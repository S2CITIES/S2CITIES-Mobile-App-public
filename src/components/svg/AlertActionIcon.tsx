import Dimensions from "constants/Dimensions";
import React from "react";
import { FC, memo } from "react";
import { SvgXml } from "react-native-svg";
import Colors from "constants/Colors";
import { StyleProp, ViewStyle } from "react-native";
import { useAppTheme } from "utils/ui";

type AlertActionIconSvgs = {
   assign: string;
   check: string;
   false_alarm: string;
};

function svg(icon: keyof AlertActionIconSvgs, color: string): string {
   let svg: AlertActionIconSvgs = {
      assign: `
         <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
         <path d="M36.1053 8.68419H34.2105V6.78945C34.2105 6.28694 34.0109 5.805 33.6556 5.44967C33.3002 5.09434 32.8183 4.89471 32.3158 4.89471C31.8133 4.89471 31.3313 5.09434 30.976 5.44967C30.6207 5.805 30.4211 6.28694 30.4211 6.78945V8.68419H28.5263C28.0238 8.68419 27.5419 8.88381 27.1865 9.23914C26.8312 9.59448 26.6316 10.0764 26.6316 10.5789C26.6316 11.0814 26.8312 11.5634 27.1865 11.9187C27.5419 12.274 28.0238 12.4737 28.5263 12.4737H30.4211V14.3684C30.4211 14.8709 30.6207 15.3528 30.976 15.7082C31.3313 16.0635 31.8133 16.2631 32.3158 16.2631C32.8183 16.2631 33.3002 16.0635 33.6556 15.7082C34.0109 15.3528 34.2105 14.8709 34.2105 14.3684V12.4737H36.1053C36.6078 12.4737 37.0897 12.274 37.445 11.9187C37.8004 11.5634 38 11.0814 38 10.5789C38 10.0764 37.8004 9.59448 37.445 9.23914C37.0897 8.88381 36.6078 8.68419 36.1053 8.68419Z" fill="${color}"/>
         <path d="M15.2632 18.1579C16.7621 18.1579 18.2274 17.7134 19.4738 16.8806C20.7201 16.0478 21.6916 14.8642 22.2652 13.4793C22.8388 12.0944 22.9889 10.5705 22.6965 9.10037C22.404 7.6302 21.6822 6.27976 20.6223 5.21983C19.5623 4.15989 18.2119 3.43807 16.7417 3.14563C15.2716 2.8532 13.7477 3.00328 12.3628 3.57692C10.9779 4.15055 9.79427 5.12196 8.96149 6.36831C8.1287 7.61466 7.6842 9.07998 7.6842 10.579C7.6842 12.589 8.4827 14.5167 9.90403 15.9381C11.3254 17.3594 13.2531 18.1579 15.2632 18.1579Z" fill="${color}"/>
         <path d="M26.6316 37.1053C27.1341 37.1053 27.616 36.9056 27.9714 36.5503C28.3267 36.195 28.5263 35.713 28.5263 35.2105C28.5263 31.6929 27.129 28.3194 24.6416 25.832C22.1543 23.3447 18.7808 21.9474 15.2632 21.9474C11.7456 21.9474 8.37201 23.3447 5.88469 25.832C3.39736 28.3194 2 31.6929 2 35.2105C2 35.713 2.19962 36.195 2.55496 36.5503C2.91029 36.9056 3.39222 37.1053 3.89474 37.1053" fill="${color}"/>
         </svg>
      `,
      check: `
         <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
         <path d="M14.6154 35.7839C14.2735 35.7828 13.9355 35.7096 13.6223 35.5689C13.3091 35.4282 13.0276 35.223 12.7951 34.966L0.675934 21.7516C0.222905 21.2567 -0.0197814 20.5977 0.00126282 19.9194C0.022307 19.2411 0.305358 18.5992 0.788148 18.1348C1.27094 17.6705 1.91392 17.4217 2.57564 17.4433C3.23737 17.4649 3.86363 17.755 4.31666 18.2499L14.5905 29.4707L35.562 5.95557C35.7749 5.68393 36.0396 5.45975 36.34 5.2968C36.6405 5.13385 36.9702 5.03558 37.3091 5.00801C37.6479 4.98045 37.9886 5.02418 38.3104 5.13651C38.6321 5.24884 38.9281 5.42741 39.18 5.66124C39.432 5.89507 39.6347 6.17923 39.7756 6.49627C39.9165 6.81331 39.9927 7.15653 39.9995 7.50485C40.0063 7.85318 39.9436 8.19925 39.8151 8.52181C39.6867 8.84437 39.4953 9.13662 39.2526 9.38059L16.4607 34.9405C16.2304 35.2021 15.9498 35.4121 15.6365 35.5572C15.3233 35.7024 14.9841 35.7796 14.6404 35.7839H14.6154Z" fill="${color}"/>
         </svg>
      `,
      false_alarm: `
         <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
         <path d="M23.9911 19.9976L36.1627 7.85259C36.6957 7.31951 36.9952 6.59648 36.9952 5.84258C36.9952 5.08868 36.6957 4.36566 36.1627 3.83257C35.6297 3.29949 34.9068 3 34.153 3C33.3992 3 32.6763 3.29949 32.1433 3.83257L20 16.0059L7.85674 3.83257C7.32372 3.29949 6.6008 3 5.84701 3C5.09322 3 4.3703 3.29949 3.83729 3.83257C3.30427 4.36566 3.00483 5.08868 3.00483 5.84258C3.00483 6.59648 3.30427 7.31951 3.83729 7.85259L16.0089 19.9976L3.83729 32.1426C3.57198 32.4058 3.3614 32.7189 3.21769 33.0638C3.07399 33.4088 3 33.7789 3 34.1526C3 34.5263 3.07399 34.8963 3.21769 35.2413C3.3614 35.5863 3.57198 35.8994 3.83729 36.1626C4.10043 36.4279 4.41349 36.6386 4.75843 36.7823C5.10336 36.926 5.47334 37 5.84701 37C6.22068 37 6.59066 36.926 6.93559 36.7823C7.28053 36.6386 7.59359 36.4279 7.85674 36.1626L20 23.9893L32.1433 36.1626C32.4064 36.4279 32.7195 36.6386 33.0644 36.7823C33.4093 36.926 33.7793 37 34.153 37C34.5267 37 34.8966 36.926 35.2416 36.7823C35.5865 36.6386 35.8996 36.4279 36.1627 36.1626C36.428 35.8994 36.6386 35.5863 36.7823 35.2413C36.926 34.8963 37 34.5263 37 34.1526C37 33.7789 36.926 33.4088 36.7823 33.0638C36.6386 32.7189 36.428 32.4058 36.1627 32.1426L23.9911 19.9976Z" fill="${color}"/>
         </svg>
      `,
   };

   return svg[icon];
}

type AlertActionIconProps = {
   icon: keyof AlertActionIconSvgs;
   color?: string;
   style?: StyleProp<ViewStyle>;
   width?: number;
   height?: number;
};

const AlertActionIcon: FC<AlertActionIconProps> = memo(
   ({ icon, color, style, width, height }: AlertActionIconProps) => {
      const colorScheme = useAppTheme();
      const _color = color ?? Colors[colorScheme].defaultIconColor;

      return (
         <SvgXml
            xml={svg(icon, _color)}
            width={width ?? Dimensions.alertDetail.alertActionIconSize}
            height={height ?? Dimensions.alertDetail.alertActionIconSize}
            style={style ?? {}}
         />
      );
   }
);

export default AlertActionIcon;
